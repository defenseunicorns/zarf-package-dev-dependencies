kind: ZarfPackageConfig
metadata:
  name: "package-zarf-redirector"
  description: "Install the zarf agent redirector into a cluster"

constants:
  - name: AGENT_IMAGE
    value: "zarfdev/agent:796f84786336dd19bd9672443435ecf80ecd457a"

components:
  - name: zarf-redirector
    required: true
    images:
      - "zarfdev/agent:796f84786336dd19bd9672443435ecf80ecd457a"
      - "bitnami/kubectl:1.24.3"
    manifests:
      - name: zarf-redirector
        namespace: zarf
        files:
          - manifests/service.yaml
          - manifests/npm-secret-job.yaml
          - manifests/npm-service-account.yaml
          - manifests/tls-secret.yaml
          - manifests/deployment.yaml
